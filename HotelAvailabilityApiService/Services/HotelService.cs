using HotelAvailabilityApiService.Models.Hotels;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;

namespace HotelAvailabilityApiService.Services
{
    using Newtonsoft.Json;

    public class HotelService : IHotelService
    {
        private readonly IHttpService _httpClient;
        private readonly string _baseUrl;
        private static List<(string Name, string Id)> _hotels;
        
        public HotelService(IHttpService httpClient, ISecretsService secretsService)
        {
            _httpClient = httpClient;
            _baseUrl = secretsService.GetSecret("ApiBaseUrl");
            var test = "[{\"Item1\":\"Scandic Gällivare\",\"Item2\":\"16a70d98-4af3-4549-b0c3-723aa697836e\"},{\"Item1\":\"Scandic CH\",\"Item2\":\"093f0198-8cb1-4c29-bc0d-a69cccf124ae\"},{\"Item1\":\"Scandic Crown\",\"Item2\":\"acd24658-bcf0-4322-8219-a19fe0e36c05\"},{\"Item1\":\"Scandic Helsingborg Nord\",\"Item2\":\"4ea9c161-dc0a-41e4-b10d-a074a2ee39ca\"},{\"Item1\":\"Scandic Elmia\",\"Item2\":\"c0c3083b-525f-4946-a740-2df67e014f1a\"},{\"Item1\":\"Scandic Portalen\",\"Item2\":\"df1783df-5728-4091-b94f-6d8a6d54d2a7\"},{\"Item1\":\"Scandic Luleå\",\"Item2\":\"85b92bbd-ca93-4ea5-84ce-2fa3bad7be8e\"},{\"Item1\":\"Scandic Örebro Väst\",\"Item2\":\"01e64f4f-08cf-46a8-af2f-7754e3fa5c42\"},{\"Item1\":\"Scandic Östersund Syd\",\"Item2\":\"78d2fe9b-1c12-4fdd-95d8-3bc26e38d9a1\"},{\"Item1\":\"Scandic Grand Central\",\"Item2\":\"f41728cd-fd15-486b-9998-2e332c8ea2f6\"},{\"Item1\":\"Scandic Continental\",\"Item2\":\"a86b2775-d46e-4e10-993c-8162135df875\"},{\"Item1\":\"Scandic Värnamo\",\"Item2\":\"23035170-8de7-4cd7-9d7d-2bf6faedf349\"},{\"Item1\":\"Scandic Västerås\",\"Item2\":\"1be6ad07-625a-46d3-ad67-2b69c223f922\"},{\"Item1\":\"Scandic Aalborg Øst\",\"Item2\":\"29b676cd-e949-43cf-9e91-14b6fd170e69\"},{\"Item1\":\"Scandic Elgstua\",\"Item2\":\"39c71c11-b6e1-42a5-9fa8-f9c1087701bd\"},{\"Item1\":\"Scandic Nordkapp\",\"Item2\":\"414bc895-c811-4802-9a3b-d2296a919fd5\"},{\"Item1\":\"Scandic Kirkenes\",\"Item2\":\"57005c0d-8d81-4498-830f-90390c214707\"},{\"Item1\":\"Scandic Syv Søstre\",\"Item2\":\"717d79d2-d3f7-4295-b04d-8fb7ada25bd5\"},{\"Item1\":\"Scandic Vadsø\",\"Item2\":\"f4222134-a79c-41bc-85e8-300ee08cae26\"},{\"Item1\":\"Scandic Gdansk\",\"Item2\":\"f90bf40f-c49e-45fe-9d5d-f10678229f49\"},{\"Item1\":\"Scandic Kødbyen\",\"Item2\":\"1b24b777-1a4e-4232-bbe3-c1f78d5b6478\"},{\"Item1\":\"Scandic Kotka\",\"Item2\":\"db4047a1-9433-4bdd-9b01-c596d2e3e85c\"},{\"Item1\":\"Scandic Atlas\",\"Item2\":\"d03f538e-2d2f-401a-a3b2-8f8ada8b0a7b\"},{\"Item1\":\"Scandic Bollnäs\",\"Item2\":\"0075022f-7093-4032-af4f-fec21c81d427\"},{\"Item1\":\"Scandic Plaza Borås\",\"Item2\":\"63f01ed1-1c65-4c9a-90d1-6e176909b8a7\"},{\"Item1\":\"Scandic Karlstad City\",\"Item2\":\"a667b835-bd2d-4c09-ad9e-c37d0a6cdd11\"},{\"Item1\":\"Scandic Malmö City\",\"Item2\":\"6881f6e3-6481-4f32-8f9b-7b8ca472c783\"},{\"Item1\":\"Scandic S:t Jörgen\",\"Item2\":\"29b0dc6f-e052-42ea-95ce-12a4f2fbb525\"},{\"Item1\":\"Scandic Stortorget\",\"Item2\":\"fa549180-b1f7-46a4-8f0f-7b3b17f9503a\"},{\"Item1\":\"Scandic Triangeln\",\"Item2\":\"c44d042a-419a-42f0-8870-82252307e980\"},{\"Item1\":\"Scandic Billingen\",\"Item2\":\"f541af5e-4a0e-4180-9fd1-573acf98ca0c\"},{\"Item1\":\"Haymarket by Scandic\",\"Item2\":\"ae6233e5-cf92-4dac-91ab-a43367bad9f2\"},{\"Item1\":\"Scandic Sundsvall Nord\",\"Item2\":\"e91e46eb-ae36-49e5-912b-712686575742\"},{\"Item1\":\"Scandic Kista\",\"Item2\":\"c8e04279-7ff6-4e57-89d0-b75d08eb4145\"},{\"Item1\":\"Scandic Malmen\",\"Item2\":\"81f452dd-b85b-4030-b505-e2885636a4ad\"},{\"Item1\":\"Scandic Star Sollentuna\",\"Item2\":\"4a6baf3e-9c0f-4647-9eba-75ab1a25110e\"},{\"Item1\":\"Scandic Upplandsgatan\",\"Item2\":\"65ae88b8-2237-4003-896c-7cfcfd0ce87d\"},{\"Item1\":\"Scandic Palace\",\"Item2\":\"af63079f-fac2-44ad-b0fd-ac89a45cfb92\"},{\"Item1\":\"Scandic Bygholm Park\",\"Item2\":\"72f8bb5b-aeaf-47b4-875f-fde59262c7ea\"},{\"Item1\":\"Scandic Kolding\",\"Item2\":\"ccf14188-4521-4340-9e28-787885f5ac73\"},{\"Item1\":\"Scandic Ringsted\",\"Item2\":\"77107429-ff74-45ac-a462-f2c0f49ce837\"},{\"Item1\":\"Scandic Plaza Turku\",\"Item2\":\"41dd2f13-a271-4566-85de-62610cd85a9e\"},{\"Item1\":\"Scandic Järvenpää\",\"Item2\":\"c4c55502-817f-4946-bb29-4e67340b7ef2\"},{\"Item1\":\"Scandic Oulu City\",\"Item2\":\"998d48a0-0280-4c38-b03b-18bd34ea2cd4\"},{\"Item1\":\"Scandic Alta\",\"Item2\":\"5f329ce1-b7ec-4f01-85fd-e32d442013c9\"},{\"Item1\":\"Scandic Ørnen\",\"Item2\":\"70fd765a-3f9b-463d-a2f3-d1a558829533\"},{\"Item1\":\"Scandic Haugesund\",\"Item2\":\"7aa692c0-9f68-461e-9c60-4abfe0b10aa9\"},{\"Item1\":\"Scandic Kristiansund\",\"Item2\":\"fc6eb00c-46a3-4216-ba70-93feb6227370\"},{\"Item1\":\"Scandic Hafjell\",\"Item2\":\"1934b5ba-e1cc-42ce-b6c5-04523c844d75\"},{\"Item1\":\"Scandic Stavanger City\",\"Item2\":\"eeb0e27d-0605-41ca-9183-5e7b8c3a3d28\"},{\"Item1\":\"Scandic Hell\",\"Item2\":\"37c5b9c7-6499-4ba4-a621-b8ceaa838e67\"},{\"Item1\":\"Scandic Joensuu\",\"Item2\":\"d03719a5-36a8-4924-9ea4-fdf331f64778\"},{\"Item1\":\"Scandic Polar\",\"Item2\":\"1baf04be-c3e1-4a60-a80b-492b1b07de88\"},{\"Item1\":\"Scandic Strömmen\",\"Item2\":\"ba2f8394-3dd2-4c82-bffa-4a4ba31164f0\"},{\"Item1\":\"Scandic Grand Örebro\",\"Item2\":\"a35691a3-dbb7-4e45-b718-153499adaed7\"},{\"Item1\":\"Scandic Swania\",\"Item2\":\"b3687cc5-eebb-43d7-ab7b-d17278024ff5\"},{\"Item1\":\"Scandic Klara\",\"Item2\":\"95fca770-e548-4717-b6fa-dced3487dac0\"},{\"Item1\":\"Scandic Plaza Umeå\",\"Item2\":\"da4fbe6c-b000-4702-b4c0-d4402b4b1974\"},{\"Item1\":\"Scandic Växjö\",\"Item2\":\"779b0300-bf17-4387-a1e5-b95ce5fb3f0b\"},{\"Item1\":\"Scandic Espoo\",\"Item2\":\"0c883a57-2d9e-41f3-b0a2-0f6ac047aa45\"},{\"Item1\":\"Scandic Park Helsinki\",\"Item2\":\"23652187-c685-445b-bbd1-89adad849aeb\"},{\"Item1\":\"Scandic Patria\",\"Item2\":\"ea846c8d-b47c-4840-849e-422dfd548d31\"},{\"Item1\":\"Scandic Bodø\",\"Item2\":\"140e61d6-51b7-41f1-a686-88be65acc682\"},{\"Item1\":\"Scandic Helsfyr\",\"Item2\":\"b9c59f52-0af5-42d9-8652-cb21d8af72a6\"},{\"Item1\":\"Scandic Oslo City\",\"Item2\":\"80f994a7-123f-4712-b1d4-16bbee0e3bb5\"},{\"Item1\":\"Scandic St. Olavs plass\",\"Item2\":\"87d6afb7-aa97-4ac0-8871-df5c01df0955\"},{\"Item1\":\"Scandic Vulkan\",\"Item2\":\"c26ace47-3766-4c74-9846-3aa5b551f18f\"},{\"Item1\":\"Scandic Havna Tjøme\",\"Item2\":\"ac27851f-289e-4525-9790-e1b35fcdf8e3\"},{\"Item1\":\"Scandic Ishavshotel\",\"Item2\":\"1dfef857-be6c-471c-9ac0-40cc6fa3d60f\"},{\"Item1\":\"Scandic Berlin Kurfürstendamm\",\"Item2\":\"d576b7d9-f853-40b8-9465-8ccc44d59f8d\"},{\"Item1\":\"Cumulus Kuopio\",\"Item2\":\"d990eb43-2e35-40dc-8039-b373169e658b\"},{\"Item1\":\"Scandic Hønefoss\",\"Item2\":\"87483439-da60-467f-ae93-27472bbdd6ab\"},{\"Item1\":\"Scandic Voss\",\"Item2\":\"337c71aa-8a06-4f6d-92f6-9a991959a236\"},{\"Item1\":\"Scandic Backadal\",\"Item2\":\"4e5c67b5-bd59-4b73-adfa-089c5488f445\"},{\"Item1\":\"Scandic Mölndal\",\"Item2\":\"df39b731-0146-4bd5-8b05-38f59075cbd9\"},{\"Item1\":\"Scandic Linköping City\",\"Item2\":\"c0334c01-c09a-4e87-a319-c52dd29e4590\"},{\"Item1\":\"Scandic Södertälje\",\"Item2\":\"f3628c2f-6d3b-496f-a018-42d5e04fd146\"},{\"Item1\":\"Scandic Gamla Stan\",\"Item2\":\"b6ef20c4-007f-4b44-8f42-4c39e57769f0\"},{\"Item1\":\"Scandic Sjöfartshotellet\",\"Item2\":\"d2a1a48d-3ef7-4a50-b79a-08f4154c9ebb\"},{\"Item1\":\"Scandic Visby\",\"Item2\":\"95c82e4a-b6f6-46bb-bf01-b9e4c3f43c02\"},{\"Item1\":\"Scandic Copenhagen\",\"Item2\":\"ed3bdd13-4762-48bf-9e46-78fbb62000ab\"},{\"Item1\":\"Scandic Webers\",\"Item2\":\"4ebcd50e-94d8-47f2-9165-6355e8719974\"},{\"Item1\":\"Scandic Kuopio\",\"Item2\":\"e96c4f73-5fea-482e-8f78-270a1b8e538c\"},{\"Item1\":\"Scandic Rosendahl\",\"Item2\":\"5e84bcca-2821-4124-a004-3aeaba41744d\"},{\"Item1\":\"Scandic Parken\",\"Item2\":\"7c773dae-344e-440f-8972-cbad9530ac3c\"},{\"Item1\":\"Scandic Neptun\",\"Item2\":\"18ac1ec8-81be-4068-89bb-4b9954984104\"},{\"Item1\":\"Scandic Havet\",\"Item2\":\"b2e28409-3fe2-420a-a1d9-c4c7cf0fe39e\"},{\"Item1\":\"Scandic City\",\"Item2\":\"f84f96b0-ffc4-4405-9990-eaa35d4acbaf\"},{\"Item1\":\"Scandic Sørlandet\",\"Item2\":\"f69d2e3e-25d3-44ae-9f47-52f6530d8bea\"},{\"Item1\":\"Scandic Lillehammer Hotel\",\"Item2\":\"15910eb6-5f1a-4f88-aaab-4337f602985f\"},{\"Item1\":\"Scandic Narvik\",\"Item2\":\"7956d3f1-8f73-44ea-a800-0227f5391649\"},{\"Item1\":\"Scandic Grensen\",\"Item2\":\"a2c49ed7-18ca-40e3-a661-99a87e8b2239\"},{\"Item1\":\"Scandic Sjølyst\",\"Item2\":\"c76f2778-cc62-4df5-a353-2395e6d698dd\"},{\"Item1\":\"Scandic Park Sandefjord\",\"Item2\":\"e7c7785b-1a65-4bc4-9084-e74058de6f55\"},{\"Item1\":\"Scandic Hamburg Emporio\",\"Item2\":\"ec8de62a-c675-4a56-b18d-f143f49ce46d\"},{\"Item1\":\"Scandic Helsinki Aviacongress\",\"Item2\":\"87762ff5-1494-4012-9b00-21427b7cfe33\"},{\"Item1\":\"Scandic Kallio\",\"Item2\":\"c175aa19-1f5a-4e52-b0aa-19b080d89a46\"},{\"Item1\":\"Scandic Kouvola\",\"Item2\":\"b5047d84-ef45-4ec4-adc1-80930728aa42\"},{\"Item1\":\"Scandic Mikkeli\",\"Item2\":\"d0efdb0a-ebaa-44f6-b048-ee793970b749\"},{\"Item1\":\"Scandic Eden Nokia\",\"Item2\":\"c5d79832-32b8-4144-9ee9-2f3ac7260312\"},{\"Item1\":\"Cumulus Pori\",\"Item2\":\"aad195e8-c976-436f-ab02-9d258125a3e6\"},{\"Item1\":\"Scandic Seinäjoki\",\"Item2\":\"59123054-c933-43c9-b39b-2672b9792b65\"},{\"Item1\":\"Scandic Borlänge\",\"Item2\":\"2393b66d-7319-42c0-b141-45492df62735\"},{\"Item1\":\"Scandic Lugnet Falun\",\"Item2\":\"42aa0ff6-a88f-457d-b934-748511711fb3\"},{\"Item1\":\"Scandic No 25\",\"Item2\":\"ec3ad72d-7e15-4704-944c-582e7b273739\"},{\"Item1\":\"Scandic Karlskrona\",\"Item2\":\"ef840d0c-97d2-49a3-bab3-86cf659a69c3\"},{\"Item1\":\"Scandic Norrköping Nord\",\"Item2\":\"2e88c12d-38c7-44e9-8819-945a04c27347\"},{\"Item1\":\"Downtown Camper by Scandic\",\"Item2\":\"d98c7ab1-ebaa-4102-b351-758daf1ddf55\"},{\"Item1\":\"Scandic Anglais\",\"Item2\":\"9fc5cb60-396e-4f94-93c2-a5294d95f15e\"},{\"Item1\":\"Scandic Järva Krog\",\"Item2\":\"0d12365a-27e4-4a46-a8fa-9382e7a6115c\"},{\"Item1\":\"Scandic Talk\",\"Item2\":\"9fedd8df-833d-4ec4-a286-a91d641894d0\"},{\"Item1\":\"Scandic Sluseholmen\",\"Item2\":\"fa6233fe-ae48-4eeb-a612-c30f693cf84a\"},{\"Item1\":\"Scandic Odense\",\"Item2\":\"c01167e0-8c50-4bca-95c0-1c79a953286b\"},{\"Item1\":\"Scandic Sønderborg\",\"Item2\":\"ed736d4b-3033-421d-a066-628494f9a0a8\"},{\"Item1\":\"Scandic Jacob Gade\",\"Item2\":\"6cd82978-06b7-4429-9e76-9ff97a7e8a9a\"},{\"Item1\":\"Scandic Flesland Airport\",\"Item2\":\"bc19a4b4-b831-44b5-9e23-8cd170459f58\"},{\"Item1\":\"Scandic Ambassadeur Drammen\",\"Item2\":\"f3a66b7c-0683-4f23-ba88-fe4743450b75\"},{\"Item1\":\"Scandic Central Elverum\",\"Item2\":\"e2cb0f5c-010d-442b-94b7-843379a4368e\"},{\"Item1\":\"Scandic Harstad\",\"Item2\":\"12ecad7f-af10-4fcf-beca-f416eef4708f\"},{\"Item1\":\"Scandic Kristiansand Bystranda\",\"Item2\":\"a69f462e-7792-45d5-83a1-34e662cce7f9\"},{\"Item1\":\"Scandic Meyergården\",\"Item2\":\"d906c1eb-a52f-43aa-aefd-6d253984bd6c\"},{\"Item1\":\"Scandic Nordfjord\",\"Item2\":\"d52aeb98-3756-4361-afb0-d61cfcbdc107\"},{\"Item1\":\"Scandic Bakklandet\",\"Item2\":\"ccfc6f4a-c4e8-4166-8b59-43b6e88b4754\"},{\"Item1\":\"Scandic Stiklestad\",\"Item2\":\"4570fa6a-be40-4099-9be1-44bc4da8dff4\"},{\"Item1\":\"Scandic Helsinki Airport\",\"Item2\":\"b3cc0ca5-5da9-4ee2-9493-cb0e022acf38\"},{\"Item1\":\"Scandic Aulanko\",\"Item2\":\"df22eaee-2b54-42ae-a2b3-417fbe552929\"},{\"Item1\":\"Scandic Hakaniemi\",\"Item2\":\"e36dcc8f-7426-4fc1-9402-458de61e2868\"},{\"Item1\":\"Scandic Ikaalisten Kylpylä\",\"Item2\":\"5311edf9-23ba-4657-9d8e-d09bccd75629\"},{\"Item1\":\"Scandic Lappeenranta City\",\"Item2\":\"698763ee-4bf0-4628-9a76-ce996c1452a7\"},{\"Item1\":\"Scandic Oulu Station\",\"Item2\":\"47550987-f0e3-48ec-9ce6-b6841dee5a43\"},{\"Item1\":\"Scandic Leknes Lofoten\",\"Item2\":\"44189b58-6fdc-4cb5-a7e5-faef3c23b933\"},{\"Item1\":\"Scandic Brennemoen\",\"Item2\":\"d3dc1d23-a605-4265-9728-fa53cb856a6a\"},{\"Item1\":\"Scandic Alexandra Molde\",\"Item2\":\"03bb2ce6-6d91-4187-aa66-f68917c2fc6d\"},{\"Item1\":\"Scandic Hallandia\",\"Item2\":\"551e1f59-3cde-4dee-9429-e3100d1a2575\"},{\"Item1\":\"Scandic Kalmar Väst\",\"Item2\":\"a5ca3430-ce97-497f-9f8e-9f22f0ffd3ba\"},{\"Item1\":\"Scandic Klarälven\",\"Item2\":\"bed18b01-e218-4ed5-afa7-5340f450b9be\"},{\"Item1\":\"Scandic Linköping Väst\",\"Item2\":\"d0f1935a-458a-4cd7-9fad-200874a0ecb1\"},{\"Item1\":\"Scandic Kramer\",\"Item2\":\"707879a5-62f6-45b0-b8b5-bff01ab8b0e9\"},{\"Item1\":\"Scandic Segevång\",\"Item2\":\"39e7b627-903a-4167-b31f-6226e540fa88\"},{\"Item1\":\"Scandic Laholmen\",\"Item2\":\"1400a5e2-6613-41b2-beea-5d3fe02ae550\"},{\"Item1\":\"Scandic Alvik\",\"Item2\":\"0c9ad5ba-9e00-4c2f-a572-a91eb073626a\"},{\"Item1\":\"Scandic Sundsvall City\",\"Item2\":\"1736f947-cf83-44df-a80f-98cea845fab5\"},{\"Item1\":\"Scandic Infra City\",\"Item2\":\"1185cf3c-ab0b-4cf8-97d6-20435cddf920\"},{\"Item1\":\"Scandic No. 53\",\"Item2\":\"310548ad-c974-4dd6-86c5-9add2b12fcda\"},{\"Item1\":\"Scandic Umeå Syd\",\"Item2\":\"4e3ef55d-e1c5-4791-b62d-5a11c73ce9be\"},{\"Item1\":\"Scandic Uplandia\",\"Item2\":\"eed7f92b-5e83-4234-bf6d-5dd31ab12fcb\"},{\"Item1\":\"Scandic Aarhus City\",\"Item2\":\"83537959-371a-4793-a4dd-f83112d5403f\"},{\"Item1\":\"Scandic Front\",\"Item2\":\"620ff9f4-44b2-44d1-a5ab-44d1d73fadd0\"},{\"Item1\":\"Scandic Forssa\",\"Item2\":\"5084fdc1-0b9b-47bb-bede-4600db5a0bfd\"},{\"Item1\":\"Scandic Julia\",\"Item2\":\"b0eb44c7-809f-4368-9821-a5d2d0ee5be6\"},{\"Item1\":\"Scandic Kokstad\",\"Item2\":\"88997b0e-d947-4056-bae8-d261f9ae66d0\"},{\"Item1\":\"Scandic Hamar\",\"Item2\":\"e8207a6e-809e-41b1-8691-bff56139890d\"},{\"Item1\":\"Scandic Honningsvåg\",\"Item2\":\"6d77a2e8-d3df-4611-8b5f-b46d5105112d\"},{\"Item1\":\"Olympiatoppen Sportshotel\",\"Item2\":\"24bcc1e4-5457-48f0-aed2-ef45d78f5bde\"},{\"Item1\":\"Scandic Asker\",\"Item2\":\"74075eb4-1dbd-4291-97f0-6708adfd8a5e\"},{\"Item1\":\"Scandic Byporten\",\"Item2\":\"91a05009-033b-4f4f-b488-53768979bc06\"},{\"Item1\":\"Scandic Holberg\",\"Item2\":\"f333f026-c2e3-4df1-9f70-5e07e0f6479c\"},{\"Item1\":\"Scandic Stavanger Airport\",\"Item2\":\"09d4cafd-131f-42bb-86b8-378c9b5bb771\"},{\"Item1\":\"Scandic Grand Tromsø\",\"Item2\":\"b9dd8e9b-858b-4fa6-ad37-443a5d706a19\"},{\"Item1\":\"Scandic Berlin Potsdamer Platz\",\"Item2\":\"83af2929-bba5-417d-a9d3-3b844006f3df\"},{\"Item1\":\"Scandic Helsinki Aviapolis\",\"Item2\":\"51c7d3b8-2aa4-4b1f-a379-e2bd67f23c2c\"},{\"Item1\":\"Scandic Tampere Hämeenpuisto\",\"Item2\":\"af797af4-5f47-4cdf-8c55-3ea94a82b8e8\"},{\"Item1\":\"Scandic Vestfjord Lofoten\",\"Item2\":\"7587437f-a1cd-49e8-8986-d130bd59ec96\"},{\"Item1\":\"Scandic Arvika\",\"Item2\":\"cc3e4c34-26ca-4024-8a07-260b17515d07\"},{\"Item1\":\"Scandic Rubinen\",\"Item2\":\"6754b89a-aa7d-4c66-bb45-c9632b8abbb5\"},{\"Item1\":\"Scandic Star Lund\",\"Item2\":\"077e8f07-78a8-43b4-b195-a93a330f1a42\"},{\"Item1\":\"Scandic Skellefteå\",\"Item2\":\"807e3790-ff9c-4caa-b0e2-493ae6848203\"},{\"Item1\":\"Scandic Foresta\",\"Item2\":\"796ccab1-11ed-4877-b1c7-af4be4ff0f2c\"},{\"Item1\":\"Scandic Upplands Väsby\",\"Item2\":\"6f7cba1b-b6f9-4bb4-8139-06d170fc70fc\"},{\"Item1\":\"Scandic Victoria Tower\",\"Item2\":\"94164c0f-11df-4b08-87d9-c67ec75e0330\"},{\"Item1\":\"Scandic Aalborg City\",\"Item2\":\"e8faa40a-ed3d-4362-b1bd-19cde43d530a\"},{\"Item1\":\"Scandic Eremitage\",\"Item2\":\"37467f53-2b81-4727-ba4a-fe62cca25c33\"},{\"Item1\":\"Scandic Glostrup\",\"Item2\":\"2226a1c1-ea54-48b0-a0e6-8baeecc3e447\"},{\"Item1\":\"Scandic Olympic\",\"Item2\":\"860024df-7f1b-4594-b2d7-5abb843c53a2\"},{\"Item1\":\"Marski by Scandic\",\"Item2\":\"d2549d97-f42d-4e7f-9c47-9204f799927f\"},{\"Item1\":\"Scandic Kajanus\",\"Item2\":\"86fd15aa-f750-42d1-909a-87d35a7469ac\"},{\"Item1\":\"Scandic Tampere City\",\"Item2\":\"6df6648c-234b-4dd1-baae-a02a53c4cec0\"},{\"Item1\":\"Scandic Grimstad\",\"Item2\":\"aded71d3-365e-4c07-8439-38b3d7d2e462\"},{\"Item1\":\"Scandic Victoria Lillehammer\",\"Item2\":\"9e29e49c-c393-462e-84eb-9de3b639eb86\"},{\"Item1\":\"Scandic Seilet\",\"Item2\":\"c096be0f-2c08-4a6a-90d3-a733787103e1\"},{\"Item1\":\"Scandic Fornebu\",\"Item2\":\"f147870d-8f10-40bf-9acf-8b5d383992d8\"},{\"Item1\":\"Scandic Lillestrøm\",\"Item2\":\"8e4cda61-8f48-418f-ad9a-4e1b69ebf15a\"},{\"Item1\":\"Scandic Solsiden\",\"Item2\":\"bc5c64fc-036e-40c8-bcd2-337246cae469\"},{\"Item1\":\"Scandic Scandinavie\",\"Item2\":\"677b4b93-4a65-4f1f-9d29-a2bd7a43e5c0\"},{\"Item1\":\"Scandic Meilahti\",\"Item2\":\"74b0ebf8-0574-471a-b21c-c0dd78cb0c0c\"},{\"Item1\":\"Scandic Lahti City\",\"Item2\":\"5177da06-84fc-4238-8fa0-7bbd0d1d28c8\"},{\"Item1\":\"Scandic Pohjanhovi\",\"Item2\":\"4bff6ea1-a248-4e41-b563-ce811989846a\"},{\"Item1\":\"Scandic Salo\",\"Item2\":\"02e85eb6-0c5a-415d-81f6-957e2911553d\"},{\"Item1\":\"Scandic Royal Stavanger\",\"Item2\":\"e8ac7dbe-d70b-4005-a853-38da9885114a\"},{\"Item1\":\"Scandic Stora Hotellet\",\"Item2\":\"c48411b9-19db-483f-98ff-4462ccde9692\"},{\"Item1\":\"Scandic Örnsköldsvik\",\"Item2\":\"e93b4058-2e86-4de3-a6cf-e2967c3f67fb\"},{\"Item1\":\"Scandic The Reef\",\"Item2\":\"4457f480-cf3c-4e59-9558-7d94e76f9372\"},{\"Item1\":\"Scandic Regina\",\"Item2\":\"c4f5cdfd-2162-41fb-833e-4d0db14a1625\"},{\"Item1\":\"Scandic Silkeborg\",\"Item2\":\"7fd9128d-7ae8-4283-96a9-482650b3d801\"},{\"Item1\":\"Scandic Simonkenttä\",\"Item2\":\"890ab4f8-cb66-4946-bc8e-6c570168afb3\"},{\"Item1\":\"Scandic Pori\",\"Item2\":\"d04c9a29-a8da-4091-bcc6-80d4c64a5c71\"},{\"Item1\":\"Scandic Rovaniemi City\",\"Item2\":\"a86308e1-0cf0-463a-a433-eb01ee66b31a\"},{\"Item1\":\"Scandic Byparken\",\"Item2\":\"8cee5bf8-cd7c-40ce-a874-7d3755c1563a\"},{\"Item1\":\"Scandic Valdres\",\"Item2\":\"f327f5fa-7353-474e-a7fe-60dde5fd2500\"},{\"Item1\":\"Scandic Fauske\",\"Item2\":\"12ef3027-9b7b-40ff-a7c9-36c92355f8ff\"},{\"Item1\":\"Scandic Sunnfjord Hotel & Spa\",\"Item2\":\"c7209ddc-a34f-4427-bf8e-df759fd64714\"},{\"Item1\":\"Scandic Ringsaker\",\"Item2\":\"abfa7f6b-024c-4d09-98b4-34860c0e6373\"},{\"Item1\":\"Scandic Maritim\",\"Item2\":\"6771c65f-253e-4af5-a5ce-e60ea9e05e37\"},{\"Item1\":\"Scandic Karasjok\",\"Item2\":\"037a8f0f-8dc8-4953-89d6-9ed6febf85b4\"},{\"Item1\":\"Grand Hotel Oslo by Scandic\",\"Item2\":\"06ffed97-321b-4401-83b0-ad668c711260\"},{\"Item1\":\"Scandic Gardermoen\",\"Item2\":\"5420e5a6-7092-49dd-85c4-b0b7f4d05256\"},{\"Item1\":\"Scandic Holmenkollen Park\",\"Item2\":\"c102e7a2-423a-4645-91ab-03edffa3fc2e\"},{\"Item1\":\"Scandic Karl Johan\",\"Item2\":\"4bfdc1e7-bbdc-4007-af09-a330bfbac62e\"},{\"Item1\":\"Scandic Stavanger Forus\",\"Item2\":\"725cc8fe-30e0-4b4f-be05-f52c2dfb6b0a\"},{\"Item1\":\"Scandic Svolvaer\",\"Item2\":\"2ef73599-6683-465e-8887-050c6e199867\"},{\"Item1\":\"Scandic Kemi\",\"Item2\":\"9b9068b2-f179-4ca5-a54d-c1ec0460cc13\"},{\"Item1\":\"Scandic Tampere Koskipuisto\",\"Item2\":\"2f0a75af-e67c-40ed-b5c8-04435c126629\"},{\"Item1\":\"Scandic Gävle Väst\",\"Item2\":\"6ce6e976-14a5-4239-a513-e65c2cfeac1f\"},{\"Item1\":\"Scandic Opalen\",\"Item2\":\"90d5cd15-0a26-407d-98fa-108a8c67f57a\"},{\"Item1\":\"Scandic Winn\",\"Item2\":\"3e593637-169e-46a6-915d-4b1c6d7bd094\"},{\"Item1\":\"Scandic Frimurarehotellet\",\"Item2\":\"37744232-e722-47a0-be8a-9cca4fb4da94\"},{\"Item1\":\"Scandic Skogshöjd\",\"Item2\":\"bb10b0eb-1a18-470e-9301-7028ce77eb62\"},{\"Item1\":\"Scandic Norra Bantorget\",\"Item2\":\"f187c4a9-6123-45a8-99a7-6f3a1e1573cc\"},{\"Item1\":\"Scandic Park\",\"Item2\":\"8f721056-3a98-4e8f-a44a-0a50b6040a20\"},{\"Item1\":\"Scandic Uppsala Nord\",\"Item2\":\"6b97b44b-8d80-418e-96a7-cdf80c63a533\"},{\"Item1\":\"Scandic Hvidovre\",\"Item2\":\"83e5f7a4-31f5-4bcf-b072-30fcdb5b5c88\"},{\"Item1\":\"Scandic Roskilde Park\",\"Item2\":\"b6133c42-8e35-4b16-9611-803cde5579cd\"},{\"Item1\":\"Scandic Grand Marina\",\"Item2\":\"ab6a0f97-22fd-42e3-a9d9-4be177d4ba69\"},{\"Item1\":\"Scandic Paasi\",\"Item2\":\"d3ee2a71-97ff-4bbd-a47f-e20067afe0c9\"},{\"Item1\":\"Scandic Tampere Station\",\"Item2\":\"ce9ef42e-09e5-4124-8c83-eae5ecd672cf\"},{\"Item1\":\"Scandic Ålesund\",\"Item2\":\"de585166-a032-4546-b543-aec07abf9385\"},{\"Item1\":\"Scandic Torget Bergen\",\"Item2\":\"0833060e-493a-4936-9a51-9fc6b23e477e\"},{\"Item1\":\"Scandic Hammerfest\",\"Item2\":\"cf42882f-45a8-4ffa-b559-5769cac46b2a\"},{\"Item1\":\"Scandic Bryggen\",\"Item2\":\"535ebebd-0523-4703-977e-223463b0ac9b\"},{\"Item1\":\"Scandic Oslo Airport\",\"Item2\":\"1c00f49e-fb71-406b-8e2d-9a1e69d9b265\"},{\"Item1\":\"Scandic Solli\",\"Item2\":\"a7153d6f-f1ef-4474-a235-32d262b8cdea\"},{\"Item1\":\"Scandic Victoria Oslo\",\"Item2\":\"7a26b9e6-66a3-4a4b-a435-f8a6ac455adc\"},{\"Item1\":\"Scandic Stavanger Park\",\"Item2\":\"dad933ea-410a-4f62-b6a6-a4573775f65f\"},{\"Item1\":\"Scandic Nidelven\",\"Item2\":\"6d814e8f-6db5-4d32-b909-91494186b684\"},{\"Item1\":\"Scandic Falkoner\",\"Item2\":\"a1189223-bdd6-4cd9-bd8f-457bdd79e719\"},{\"Item1\":\"Scandic Atrium\",\"Item2\":\"305e036e-74df-45c5-b30b-d38f9be6b292\"},{\"Item1\":\"Scandic Hämeenlinna City\",\"Item2\":\"b897d77c-d5fe-415d-b645-675733299ce2\"},{\"Item1\":\"Scandic Kaisaniemi\",\"Item2\":\"7ae70026-b2e3-4c67-9f2d-22f28e1b03ff\"},{\"Item1\":\"Scandic Imatran Valtionhotelli\",\"Item2\":\"87464af4-e796-4aa0-b150-4a3b29159bf6\"},{\"Item1\":\"Scandic Laajavuori\",\"Item2\":\"bb01bb2e-c8cf-4046-8092-deb351955d65\"},{\"Item1\":\"Scandic Jyväskylä City\",\"Item2\":\"c8923103-d6d0-4db1-889b-621f12cd7419\"},{\"Item1\":\"Scandic Rauma\",\"Item2\":\"4361a42b-de8e-46bf-bf45-0c3069657002\"},{\"Item1\":\"Scandic Rukahovi\",\"Item2\":\"232213db-8947-44e1-bfad-27375e49d07f\"},{\"Item1\":\"Hotel Norge by Scandic\",\"Item2\":\"66f3719b-ad56-4c6a-84c2-b562a58c39b4\"},{\"Item1\":\"Scandic Europa\",\"Item2\":\"0a4fc537-4b9c-4f9d-8142-16089edac54d\"},{\"Item1\":\"Scandic Ferrum\",\"Item2\":\"bbcfbf37-8209-40f1-bb68-56669249c0d0\"},{\"Item1\":\"Scandic Ariadne\",\"Item2\":\"8491d146-a204-4313-a558-8c5318c45eb0\"},{\"Item1\":\"Scandic Kungens Kurva\",\"Item2\":\"c42a6960-c111-4734-820f-dfee442b501f\"},{\"Item1\":\"Scandic Skärholmen\",\"Item2\":\"cb57e8fd-cf62-4fab-8ee6-7b68cb31b14f\"},{\"Item1\":\"Scandic Aarhus Vest\",\"Item2\":\"3439593b-a325-49cf-8acc-7a471ab32b27\"},{\"Item1\":\"Scandic Sydhavnen\",\"Item2\":\"40fe4554-d610-4113-9858-3d97736996d2\"},{\"Item1\":\"Scandic Jyväskylä Station\",\"Item2\":\"e3f97600-6c74-42be-9d77-2b9001013535\"},{\"Item1\":\"Scandic Vaasa\",\"Item2\":\"e3c8b462-e974-42a8-ba72-51bbefe3f5aa\"},{\"Item1\":\"Scandic Bergen City\",\"Item2\":\"98a54052-87df-482a-a2ec-9d4ce95afeff\"},{\"Item1\":\"Scandic Rock City\",\"Item2\":\"dfaef11e-ed79-434e-bd7a-f6b46ee54191\"},{\"Item1\":\"Scandic Sarpsborg\",\"Item2\":\"09c709f6-2f22-45c0-9eed-7ac2630e23f6\"},{\"Item1\":\"Scandic Forum\",\"Item2\":\"84dbbee4-ec2a-4926-99cd-87b8a2cfe501\"},{\"Item1\":\"Scandic Lerkendal\",\"Item2\":\"fd622df4-348f-48ea-bda4-4a0302c4a245\"},{\"Item1\":\"Scandic Wroclaw\",\"Item2\":\"c4cd1590-3d7b-464c-a6ef-3864ec8abcaa\"},{\"Item1\":\"Scandic Täby\",\"Item2\":\"3c26e877-0e3f-4746-a890-c87f9f4433ea\"},{\"Item1\":\"Scandic The Mayor\",\"Item2\":\"1b3491f0-4f74-4575-b01d-ee4be17d3957\"},{\"Item1\":\"Scandic Hyvinkää\",\"Item2\":\"7944722b-3179-4538-82de-cc9830091283\"},{\"Item1\":\"Scandic Siuntio\",\"Item2\":\"45941772-55b6-4db8-a83a-4b12d7593ec8\"},{\"Item1\":\"Scandic Waskia\",\"Item2\":\"c434cafd-a454-433d-959f-cacd31b471b1\"},{\"Item1\":\"Scandic Frankfurt Museumsufer\",\"Item2\":\"8c49f903-c021-4f22-a9ec-947737b522ec\"},{\"Item1\":\"Seurahuone Helsinki\",\"Item2\":\"e374550a-0086-4136-9cc5-ae56ad60dadf\"}]";
            _hotels = JsonConvert.DeserializeObject<List<(string, string)>>(test);
        }

        public async Task<Hotel> GetHotelByNameAsync(string name)
        {
            var hotels = await GetHotelsAsync().ConfigureAwait(false);
            
            return hotels.Data.FirstOrDefault(hn => hn.Attributes.Name.Equals(name, StringComparison.OrdinalIgnoreCase));
        }

        public async Task<GetHotelsResponse> GetHotelsAsync()
        {
            var uri = _baseUrl + "/hotel/hotels?language=sv&Fields[hotels]=Name,Address";
            var result = await _httpClient.GetAsync<GetHotelsResponse>(uri).ConfigureAwait(false);
            
            return result;
        }

        public static string GetHotelGuidFromDictionary(string name)
        {
            return _hotels.SingleOrDefault(s => s.Item1.Equals("Scandic Crown", StringComparison.InvariantCultureIgnoreCase)).Item2;
        }

        public async Task<GetHotelsResponse> GetHotelsWithFieldsAsync(List<HotelAttributeFields> attributes = default)
        {
            //TODO: Add logic for getting attributes.
            var fields = "Name,Keywords";
            if (attributes != null || attributes.Any())
            {
                fields = string.Empty;
                foreach(var field in attributes)
                {
                    fields += $"{nameof(field)},";
                }
                fields.TrimEnd(',');
            } 
            var uri = $"{_baseUrl}/hotel/hotels?language=sv&Fields[hotels]={fields}";
            var result = await _httpClient.GetAsync<GetHotelsResponse>(uri).ConfigureAwait(false);

            return result;
        }

        //TODO: Complete with all available attributes...
        public enum HotelAttributeFields
        {
            All = 0,
            Name = 1,
            Address = 2,
            OperaId = 3,
            Keywords = 4
        }
    }
}
